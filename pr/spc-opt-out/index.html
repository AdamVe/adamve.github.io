<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Secure Payment Confirmation - Opt Out Demo</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <!-- SPC opt out origin trial M104-M106 (until Nov 29, 2022): https://developer.chrome.com/origintrials/#/view_trial/3293257227514675201 -->
  <meta http-equiv="origin-trial" content="Av6NwwihTQwLYEdi2EozxdFKaufsbVqo12bjGnDMyUIbX60qY4y5vTyWYZo21H2Bke+UYWUY9q6OTU8l0DvkugkAAABueyJvcmlnaW4iOiJodHRwczovL3Jzb2xvbWFraGluLmdpdGh1Yi5pbzo0NDMiLCJmZWF0dXJlIjoiU2VjdXJlUGF5bWVudENvbmZpcm1hdGlvbk9wdE91dCIsImV4cGlyeSI6MTY2OTc2NjM5OX0=">
</head>

<body>
  <div id="contents">
    <h1>Secure Payment Confirmation - Opt out</h1>
    <p>This is a test website. Nothing is charged.</p>
    <p><b style="color:red">Notice</b>:</p>
    <pre>
  Opt Out support is still experimental. You will need Chrome Canary, with the --enable-blink-features=SecurePaymentConfirmationOptOut flag set.
    </pre>
    <p><button onclick="createPaymentCredential('Credential #1')">Enroll
        Credential #1</button></p>
    <p><button onclick="onBuyClicked('Credential #1', true)">Pay $0.01</button>
      (opt-out enabled)</p>
    <p><button onclick="onBuyClicked('Credential #1', false)">Pay $0.01</button>
      (opt-out disabled)</p>
    <p><button onclick="onBuyClicked('Non-Existant Credential', true)">No matching credentials</button>
      (opt-out enabled)</p>
    <p><button onclick="onBuyClicked('Non-Existant Credential', false)">No matching credentials</button>
      (opt-out disabled)</p>
  </div>
  <pre id="msg"></pre>

  <script src="../util.js"></script>
  <script src="pr.js"></script>
  <script src="/redirect.js"></script>
  <script>
    checkCanMakePayment('Credential #1');
  </script>
</body>

</html>
